"use strict";(self.webpackChunkpizzatime=self.webpackChunkpizzatime||[]).push([[217],{9217:function(t,n,r){r.r(n),r.d(n,{default:function(){return l}});var e=r(1413),c=r(9439),u=r(2791),i=r(1087),s=r(9434),a=r(7799),o=r(1516),f=r(9164),d=r(4716),p=r(6769),h=r(3433),Z=r(7716);var g=r(3329);function l(){var t=(0,u.useState)([]),n=(0,c.Z)(t,2),r=n[0],l=n[1],w=(0,u.useState)([]),P=(0,c.Z)(w,2),b=P[0],m=P[1],v=(0,i.lr)(),y=(0,c.Z)(v,2),L=y[0],k=y[1],z=(0,s.I0)(),j=L.get("sort"),x=(0,a.hJ)(o.db,"products");return(0,u.useEffect)((function(){z((0,d.wt)(!0)),(0,a.PL)(x).then((function(t){return t.docs.map((function(t){return(0,e.Z)({id:t.id},t.data())}))})).then(l).catch((function(t){return z((0,d.fq)(t.message))})).finally((function(){return z((0,d.wt)(!1))}))}),[]),(0,u.useEffect)((function(){var t=function(t,n){switch(n){case Z.L.byPriceDown:return(0,h.Z)(t.sort((function(t,n){var r=t.discountPrice||t.price;return(n.discountPrice||n.price)-r})));case Z.L.byPriceUp:return(0,h.Z)(t.sort((function(t,n){return(t.discountPrice||t.price)-(n.discountPrice||n.price)})));case Z.L.byRatingDown:return(0,h.Z)(t.sort((function(t,n){return n.rating-t.rating})));case Z.L.byRatingUp:return(0,h.Z)(t.sort((function(t,n){return t.rating-n.rating})));default:return(0,h.Z)(t)}}(r,j);m(t)}),[r,j]),(0,g.jsxs)(f.Z,{children:[(0,g.jsx)(p.wn,{setSearchParams:k}),(0,g.jsx)(p.RX,{products:b})]})}}}]);
//# sourceMappingURL=217.5c415c2f.chunk.js.map