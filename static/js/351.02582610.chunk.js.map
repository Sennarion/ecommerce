{"version":3,"file":"static/js/351.02582610.chunk.js","mappings":"0QAQe,SAASA,IACtB,OAAgCC,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAA4CF,EAAAA,EAAAA,UAAS,IAArD,eAAOG,EAAP,KAAuBC,EAAvB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAcF,EAAaG,IAAI,QAE/BC,GAAwBC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,YA2C7C,OAzCAC,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAQJ,GACLK,MAAK,SAAAd,GAAQ,OACZA,EAASe,KAAKC,KAAI,SAAAC,GAAG,eAAOC,GAAID,EAAIC,IAAOD,EAAIE,OAA1B,GADT,IAGbL,KAAKb,GACLmB,MAAMC,MAEV,GAAE,KAEHT,EAAAA,EAAAA,YAAU,WACR,OAAQL,GACN,KAAKe,EAAAA,EAAAA,YACHnB,GAAkB,OACbH,EAASuB,MAAK,SAACC,EAAGC,GACnB,IAAMC,EAASF,EAAEG,eAAiBH,EAAEI,MAEpC,OADeH,EAAEE,eAAiBF,EAAEG,OACpBF,CACjB,MAEH,MACF,KAAKJ,EAAAA,EAAAA,UACHnB,GAAkB,OACbH,EAASuB,MAAK,SAACC,EAAGC,GAGnB,OAFeD,EAAEG,eAAiBH,EAAEI,QACrBH,EAAEE,eAAiBF,EAAEG,MAErC,MAEH,MACF,KAAKN,EAAAA,EAAAA,aACHnB,GAAkB,OAAIH,EAASuB,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEI,OAASL,EAAEK,MAAvB,MACpC,MACF,KAAKP,EAAAA,EAAAA,WACHnB,GAAkB,OAAIH,EAASuB,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEK,OAASJ,EAAEI,MAAvB,MACpC,MACF,QACE1B,GAAkB,OAAIH,IAE3B,GAAE,CAACA,EAAUO,KAGZ,UAAC,IAAD,YACE,SAAC,KAAD,CAAQD,gBAAiBA,KACzB,SAAC,KAAD,CAAcN,SAAUE,MAG7B,C","sources":["pages/Products/Products.jsx"],"sourcesContent":["import { useSearchParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\nimport { getDocs, collection } from 'firebase/firestore';\nimport { db } from 'firebase-config/config';\nimport { ProductsList, Filter } from 'components';\nimport { Container } from '@mui/material';\nimport { filterParams } from 'data/filter-params';\n\nexport default function Products() {\n  const [products, setProducts] = useState([]);\n  const [sortedProducts, setSortedProducts] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const sortByValue = searchParams.get('sort');\n\n  const productsCollectionRef = collection(db, 'products');\n\n  useEffect(() => {\n    getDocs(productsCollectionRef)\n      .then(products =>\n        products.docs.map(doc => ({ id: doc.id, ...doc.data() }))\n      )\n      .then(setProducts)\n      .catch(alert);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    switch (sortByValue) {\n      case filterParams.byPriceDown:\n        setSortedProducts([\n          ...products.sort((a, b) => {\n            const priceA = a.discountPrice || a.price;\n            const priceB = b.discountPrice || b.price;\n            return priceB - priceA;\n          }),\n        ]);\n        break;\n      case filterParams.byPriceUp:\n        setSortedProducts([\n          ...products.sort((a, b) => {\n            const priceA = a.discountPrice || a.price;\n            const priceB = b.discountPrice || b.price;\n            return priceA - priceB;\n          }),\n        ]);\n        break;\n      case filterParams.byRatingDown:\n        setSortedProducts([...products.sort((a, b) => b.rating - a.rating)]);\n        break;\n      case filterParams.byRatingUp:\n        setSortedProducts([...products.sort((a, b) => a.rating - b.rating)]);\n        break;\n      default:\n        setSortedProducts([...products]);\n    }\n  }, [products, sortByValue]);\n\n  return (\n    <Container>\n      <Filter setSearchParams={setSearchParams} />\n      <ProductsList products={sortedProducts} />\n    </Container>\n  );\n}\n"],"names":["Products","useState","products","setProducts","sortedProducts","setSortedProducts","useSearchParams","searchParams","setSearchParams","sortByValue","get","productsCollectionRef","collection","db","useEffect","getDocs","then","docs","map","doc","id","data","catch","alert","filterParams","sort","a","b","priceA","discountPrice","price","rating"],"sourceRoot":""}