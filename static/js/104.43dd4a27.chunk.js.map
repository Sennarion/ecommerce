{"version":3,"file":"static/js/104.43dd4a27.chunk.js","mappings":"wVAmBe,SAASA,IACtB,OAA8BC,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAEMC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,GAExBC,GAAWC,EAAAA,EAAAA,MAETC,GAAcC,EAAAA,EAAAA,MAAdD,UAEFE,GAASC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,WAAYJ,GAWnC,IATAK,EAAAA,EAAAA,YAAU,WACRP,GAASQ,EAAAA,EAAAA,KAAa,KACtBC,EAAAA,EAAAA,IAAOL,GACJM,MAAK,SAAAf,GAAO,OAAIC,GAAW,QAAEe,GAAIT,GAAcP,EAAQiB,QAA3C,IACZC,OAAM,SAAAC,GAAG,OAAId,GAASe,EAAAA,EAAAA,IAAeD,EAAIE,SAAhC,IACTC,SAAQ,kBAAMjB,GAASQ,EAAAA,EAAAA,KAAa,GAA5B,GAEZ,GAAE,KAEEb,EAAS,OAAO,KAErB,IACEuB,EASEvB,EATFuB,KACAC,EAQExB,EARFwB,OACAC,EAOEzB,EAPFyB,SACAC,EAME1B,EANF0B,MACAC,EAKE3B,EALF2B,cACAC,EAIE5B,EAJF4B,YACAC,EAGE7B,EAHF6B,YACAC,EAEE9B,EAFF8B,SACAC,EACE/B,EADF+B,OAGIC,EAAW9B,EAAU+B,MAAK,SAAAjC,GAAO,OAAIA,EAAQgB,KAAOT,CAAnB,IACjC2B,EAAeP,GAAiBD,EAEtC,OACE,SAAC,IAAD,WACE,UAAC,IAAD,CACES,QAAS,EACTC,UAAW,CAAEC,GAAI,SAAUC,GAAI,OAC/BC,WAAW,aAHb,WAKE,SAAC,IAAD,CAAKC,aAAc,GAAIC,SAAS,SAASC,UAAW,EAAGC,SAAS,QAAhE,UACE,gBAAKC,IAAKd,EAAUe,IAAKtB,EAAMuB,MAAM,WAEvC,UAAC,IAAD,YACE,SAAC,IAAD,CAAYC,QAAQ,KAAKC,GAAI,EAAGC,MAAM,UAAtC,SACG1B,KAEH,SAAC,IAAD,CAAYyB,GAAI,EAAhB,SAAoBnB,KACpB,SAAC,IAAD,CAAQN,KAAK,YAAY2B,MAAOnB,EAAQoB,UAAW,GAAKC,UAAQ,KAChE,UAAC,IAAD,CAAYJ,GAAI,EAAGK,GAAI,EAAvB,WACE,SAAC,IAAD,CAAYN,QAAQ,KAAKO,UAAU,OAAOC,GAAI,EAA9C,0BAGC3B,EAAY4B,KAAK,UAEpB,UAAC,IAAD,CAAYR,GAAI,EAAhB,WACE,SAAC,IAAD,CAAYD,QAAQ,KAAKO,UAAU,OAAOC,GAAI,EAA9C,qBAGC/B,EAJH,SAMA,UAAC,IAAD,CAAYwB,GAAI,EAAhB,WACE,SAAC,IAAD,CAAYD,QAAQ,KAAKO,UAAU,OAAOC,GAAI,EAA9C,uBAGC9B,EAJH,UAMA,UAAC,IAAD,CAAOW,UAAU,MAAMG,WAAW,SAASJ,QAAS,EAApD,WACE,UAAC,IAAD,CAAYY,QAAQ,KAAKE,MAAM,UAAUD,GAAI,EAA7C,UACGd,EADH,YAGCP,IACC,UAAC,IAAD,CACEoB,QAAQ,KACRU,GAAI,CAAEC,eAAgB,gBACtBV,GAAI,EAHN,UAKGtB,EALH,eASHM,GACC,SAAC,IAAD,CACEe,QAAQ,WACRE,MAAM,UACNU,WAAW,SAAC,IAAD,IACXC,QAAS,kBAAMvD,GAASwD,EAAAA,EAAAA,IAActD,GAA7B,EAJX,+BASA,SAAC,IAAD,CACEwC,QAAQ,YACRE,MAAM,UACNU,WAAW,SAAC,IAAD,IACXC,QAAS,kBAAMvD,GAASyD,EAAAA,EAAAA,IAAW9D,GAA1B,EAJX,gCAaX,C","sources":["pages/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from 'firebase-config/config';\nimport { addProduct, deleteProduct } from 'redux/cart/slice';\nimport { setErrorStatus, setIsLoading } from 'redux/global/slice';\nimport {\n  Box,\n  Container,\n  Stack,\n  Button,\n  Typography,\n  Rating,\n} from '@mui/material';\nimport AddShoppingCartRoundedIcon from '@mui/icons-material/AddShoppingCartRounded';\nimport RemoveShoppingCartRoundedIcon from '@mui/icons-material/RemoveShoppingCartRounded';\nimport { selectCartItems } from 'redux/cart/selectors';\n\nexport default function ProductDetails() {\n  const [product, setProduct] = useState(null);\n\n  const cartItems = useSelector(selectCartItems);\n\n  const dispatch = useDispatch();\n\n  const { productId } = useParams();\n\n  const docRef = doc(db, 'products', productId);\n\n  useEffect(() => {\n    dispatch(setIsLoading(true));\n    getDoc(docRef)\n      .then(product => setProduct({ id: productId, ...product.data() }))\n      .catch(err => dispatch(setErrorStatus(err.message)))\n      .finally(() => dispatch(setIsLoading(false)));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (!product) return null;\n\n  const {\n    name,\n    weight,\n    diameter,\n    price,\n    discountPrice,\n    ingredients,\n    description,\n    photoUrl,\n    rating,\n  } = product;\n\n  const isInCart = cartItems.some(product => product.id === productId);\n  const pricePerUnit = discountPrice || price;\n\n  return (\n    <Container>\n      <Stack\n        spacing={4}\n        direction={{ xs: 'column', sm: 'row' }}\n        alignItems=\"flex-start\"\n      >\n        <Box borderRadius={10} overflow=\"hidden\" boxShadow={2} maxWidth=\"600px\">\n          <img src={photoUrl} alt={name} width=\"600\" />\n        </Box>\n        <Stack>\n          <Typography variant=\"h4\" mb={2} color=\"primary\">\n            {name}\n          </Typography>\n          <Typography mb={2}>{description}</Typography>\n          <Rating name=\"read-only\" value={rating} precision={0.5} readOnly />\n          <Typography mb={2} mt={2}>\n            <Typography variant=\"h6\" component=\"span\" mr={1}>\n              Ingredients:\n            </Typography>\n            {ingredients.join(', ')}\n          </Typography>\n          <Typography mb={2}>\n            <Typography variant=\"h6\" component=\"span\" mr={1}>\n              Weight:\n            </Typography>\n            {weight} g\n          </Typography>\n          <Typography mb={2}>\n            <Typography variant=\"h6\" component=\"span\" mr={1}>\n              Diameter:\n            </Typography>\n            {diameter} cm\n          </Typography>\n          <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\n            <Typography variant=\"h4\" color=\"primary\" mb={2}>\n              {pricePerUnit}₴\n            </Typography>\n            {discountPrice && (\n              <Typography\n                variant=\"h6\"\n                sx={{ textDecoration: 'line-through' }}\n                mb={2}\n              >\n                {price}₴\n              </Typography>\n            )}\n          </Stack>\n          {isInCart ? (\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              startIcon={<RemoveShoppingCartRoundedIcon />}\n              onClick={() => dispatch(deleteProduct(productId))}\n            >\n              Delete from cart\n            </Button>\n          ) : (\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              startIcon={<AddShoppingCartRoundedIcon />}\n              onClick={() => dispatch(addProduct(product))}\n            >\n              Add to cart\n            </Button>\n          )}\n        </Stack>\n      </Stack>\n    </Container>\n  );\n}\n"],"names":["ProductDetails","useState","product","setProduct","cartItems","useSelector","selectCartItems","dispatch","useDispatch","productId","useParams","docRef","doc","db","useEffect","setIsLoading","getDoc","then","id","data","catch","err","setErrorStatus","message","finally","name","weight","diameter","price","discountPrice","ingredients","description","photoUrl","rating","isInCart","some","pricePerUnit","spacing","direction","xs","sm","alignItems","borderRadius","overflow","boxShadow","maxWidth","src","alt","width","variant","mb","color","value","precision","readOnly","mt","component","mr","join","sx","textDecoration","startIcon","onClick","deleteProduct","addProduct"],"sourceRoot":""}