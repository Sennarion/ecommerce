"use strict";(self.webpackChunkpizzatime=self.webpackChunkpizzatime||[]).push([[217],{9217:function(t,r,n){n.r(r),n.d(r,{default:function(){return w}});var e=n(1413),c=n(9439),u=n(2791),i=n(1087),s=n(7689),a=n(9434),o=n(7799),f=n(1516),d=n(9164),p=n(4716),h=n(997),Z=n(3433),g=n(7716);var l=n(3329);function w(){var t=(0,u.useState)([]),r=(0,c.Z)(t,2),n=r[0],w=r[1],P=(0,u.useState)([]),b=(0,c.Z)(P,2),m=b[0],v=b[1],y=(0,s.TH)(),L=(0,i.lr)(),k=(0,c.Z)(L,2),z=k[0],j=k[1],x=(0,a.I0)(),R=z.get("sort"),S=(0,o.hJ)(f.db,"products");return(0,u.useEffect)((function(){x((0,p.wt)(!0)),(0,o.PL)(S).then((function(t){return t.docs.map((function(t){return(0,e.Z)({id:t.id},t.data())}))})).then(w).catch((function(t){return x((0,p.fq)(t.message))})).finally((function(){return x((0,p.wt)(!1))}))}),[]),(0,u.useEffect)((function(){var t=function(t,r){switch(r){case g.L.byPriceDown:return(0,Z.Z)(t.sort((function(t,r){var n=t.discountPrice||t.price;return(r.discountPrice||r.price)-n})));case g.L.byPriceUp:return(0,Z.Z)(t.sort((function(t,r){return(t.discountPrice||t.price)-(r.discountPrice||r.price)})));case g.L.byRatingDown:return(0,Z.Z)(t.sort((function(t,r){return r.rating-t.rating})));case g.L.byRatingUp:return(0,Z.Z)(t.sort((function(t,r){return t.rating-r.rating})));default:return(0,Z.Z)(t)}}(n,R);v(t)}),[n,R]),(0,l.jsxs)(d.Z,{children:[(0,l.jsx)(h.wn,{setSearchParams:j}),(0,l.jsx)(h.RX,{products:m,state:{from:y}})]})}}}]);
//# sourceMappingURL=217.e6c96a94.chunk.js.map