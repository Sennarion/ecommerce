{"version":3,"file":"static/js/104.4b9490cd.chunk.js","mappings":"8UAmBe,SAASA,IACtB,OAA8BC,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KAEMC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,GAExBC,GAAWC,EAAAA,EAAAA,MAETC,GAAcC,EAAAA,EAAAA,MAAdD,UAEFE,GAASC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,WAAYJ,GASnC,IAPAK,EAAAA,EAAAA,YAAU,YACRC,EAAAA,EAAAA,IAAOJ,GACJK,MAAK,SAAAd,GAAO,OAAIC,EAAWD,EAAQe,OAAvB,IACZC,OAAM,SAAAC,GAAG,OAAIZ,GAASa,EAAAA,EAAAA,IAAeD,EAAIE,SAAhC,GAEb,GAAE,KAEEnB,EAAS,OAAO,KAErB,IACEoB,EAUEpB,EAVFoB,GACAC,EASErB,EATFqB,KACAC,EAQEtB,EARFsB,OACAC,EAOEvB,EAPFuB,SACAC,EAMExB,EANFwB,MACAC,EAKEzB,EALFyB,cACAC,EAIE1B,EAJF0B,YACAC,EAGE3B,EAHF2B,YACAC,EAEE5B,EAFF4B,SACAC,EACE7B,EADF6B,OAGIC,EAAW5B,EAAU6B,MAAK,SAAA/B,GAAO,OAAIA,EAAQoB,KAAOA,CAAnB,IACjCY,EAAeP,GAAiBD,EAEtC,OACE,SAAC,IAAD,WACE,UAAC,IAAD,CACES,QAAS,EACTC,UAAW,CAAEC,GAAI,SAAUC,GAAI,OAC/BC,WAAW,aAHb,WAKE,SAAC,IAAD,CAAKC,aAAc,GAAIC,SAAS,SAASC,UAAW,EAApD,UACE,gBAAKC,IAAKb,EAAUc,IAAKrB,EAAMsB,MAAM,YAEvC,UAAC,IAAD,YACE,SAAC,IAAD,CAAYC,QAAQ,KAAKC,GAAI,EAAGC,MAAM,UAAtC,SACGzB,KAEH,SAAC,IAAD,CAAYwB,GAAI,EAAhB,SAAoBlB,KACpB,SAAC,IAAD,CAAQN,KAAK,YAAY0B,MAAOlB,EAAQmB,UAAW,GAAKC,UAAQ,KAChE,UAAC,IAAD,CAAYJ,GAAI,EAAGK,GAAI,EAAvB,WACE,SAAC,IAAD,CAAYN,QAAQ,KAAKO,UAAU,OAAOC,GAAI,EAA9C,0BAGC1B,EAAY2B,KAAK,UAEpB,UAAC,IAAD,CAAYR,GAAI,EAAhB,WACE,SAAC,IAAD,CAAYD,QAAQ,KAAKO,UAAU,OAAOC,GAAI,EAA9C,qBAGC9B,MAEH,UAAC,IAAD,CAAYuB,GAAI,EAAhB,WACE,SAAC,IAAD,CAAYD,QAAQ,KAAKO,UAAU,OAAOC,GAAI,EAA9C,uBAGC7B,MAEH,UAAC,IAAD,CAAOW,UAAU,MAAMG,WAAW,SAASJ,QAAS,EAApD,WACE,UAAC,IAAD,CAAYW,QAAQ,KAAKE,MAAM,UAAUD,GAAI,EAA7C,UACGb,EADH,YAGCP,IACC,UAAC,IAAD,CACEmB,QAAQ,KACRU,GAAI,CAAEC,eAAgB,gBACtBV,GAAI,EAHN,UAKGrB,EALH,eASHM,GACC,SAAC,IAAD,CACEc,QAAQ,WACRE,MAAM,UACNU,WAAW,SAAC,IAAD,IACXC,QAAS,kBAAMpD,GAASqD,EAAAA,EAAAA,IAActC,GAA7B,EAJX,+BASA,SAAC,IAAD,CACEwB,QAAQ,YACRE,MAAM,UACNU,WAAW,SAAC,IAAD,IACXC,QAAS,kBAAMpD,GAASsD,EAAAA,EAAAA,IAAW3D,GAA1B,EAJX,gCAaX,C","sources":["pages/ProductDetails/ProductDetails.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { db } from 'firebase-config/config';\nimport { addProduct, deleteProduct } from 'redux/cart/slice';\nimport {\n  Box,\n  Container,\n  Stack,\n  Button,\n  Typography,\n  Rating,\n} from '@mui/material';\nimport AddShoppingCartRoundedIcon from '@mui/icons-material/AddShoppingCartRounded';\nimport RemoveShoppingCartRoundedIcon from '@mui/icons-material/RemoveShoppingCartRounded';\nimport { setErrorStatus } from 'redux/global/slice';\nimport { selectCartItems } from 'redux/cart/selectors';\n\nexport default function ProductDetails() {\n  const [product, setProduct] = useState(null);\n\n  const cartItems = useSelector(selectCartItems);\n\n  const dispatch = useDispatch();\n\n  const { productId } = useParams();\n\n  const docRef = doc(db, 'products', productId);\n\n  useEffect(() => {\n    getDoc(docRef)\n      .then(product => setProduct(product.data()))\n      .catch(err => dispatch(setErrorStatus(err.message)));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (!product) return null;\n\n  const {\n    id,\n    name,\n    weight,\n    diameter,\n    price,\n    discountPrice,\n    ingredients,\n    description,\n    photoUrl,\n    rating,\n  } = product;\n\n  const isInCart = cartItems.some(product => product.id === id);\n  const pricePerUnit = discountPrice || price;\n\n  return (\n    <Container>\n      <Stack\n        spacing={4}\n        direction={{ xs: 'column', sm: 'row' }}\n        alignItems=\"flex-start\"\n      >\n        <Box borderRadius={10} overflow=\"hidden\" boxShadow={2}>\n          <img src={photoUrl} alt={name} width=\"100%\" />\n        </Box>\n        <Stack>\n          <Typography variant=\"h4\" mb={2} color=\"primary\">\n            {name}\n          </Typography>\n          <Typography mb={2}>{description}</Typography>\n          <Rating name=\"read-only\" value={rating} precision={0.5} readOnly />\n          <Typography mb={2} mt={2}>\n            <Typography variant=\"h6\" component=\"span\" mr={1}>\n              Ingredients:\n            </Typography>\n            {ingredients.join(', ')}\n          </Typography>\n          <Typography mb={2}>\n            <Typography variant=\"h6\" component=\"span\" mr={1}>\n              Weight:\n            </Typography>\n            {weight}\n          </Typography>\n          <Typography mb={2}>\n            <Typography variant=\"h6\" component=\"span\" mr={1}>\n              Diameter:\n            </Typography>\n            {diameter}\n          </Typography>\n          <Stack direction=\"row\" alignItems=\"center\" spacing={2}>\n            <Typography variant=\"h4\" color=\"primary\" mb={2}>\n              {pricePerUnit}₴\n            </Typography>\n            {discountPrice && (\n              <Typography\n                variant=\"h6\"\n                sx={{ textDecoration: 'line-through' }}\n                mb={2}\n              >\n                {price}₴\n              </Typography>\n            )}\n          </Stack>\n          {isInCart ? (\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              startIcon={<RemoveShoppingCartRoundedIcon />}\n              onClick={() => dispatch(deleteProduct(id))}\n            >\n              Delete from cart\n            </Button>\n          ) : (\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              startIcon={<AddShoppingCartRoundedIcon />}\n              onClick={() => dispatch(addProduct(product))}\n            >\n              Add to cart\n            </Button>\n          )}\n        </Stack>\n      </Stack>\n    </Container>\n  );\n}\n"],"names":["ProductDetails","useState","product","setProduct","cartItems","useSelector","selectCartItems","dispatch","useDispatch","productId","useParams","docRef","doc","db","useEffect","getDoc","then","data","catch","err","setErrorStatus","message","id","name","weight","diameter","price","discountPrice","ingredients","description","photoUrl","rating","isInCart","some","pricePerUnit","spacing","direction","xs","sm","alignItems","borderRadius","overflow","boxShadow","src","alt","width","variant","mb","color","value","precision","readOnly","mt","component","mr","join","sx","textDecoration","startIcon","onClick","deleteProduct","addProduct"],"sourceRoot":""}